{"remainingRequest":"/Users/luke/Code/opensource/varie/varie/node_modules/ts-loader/index.js??ref--1-1!/Users/luke/Code/opensource/varie/varie/app/middleware/LoadingScreen.ts","dependencies":[{"path":"/Users/luke/Code/opensource/varie/varie/app/middleware/LoadingScreen.ts","mtime":1529538654000},{"path":"/Users/luke/Code/opensource/varie/varie/app/index.d.ts","mtime":1529538654000},{"path":"/Users/luke/Code/opensource/varie/varie/app/vue-shims.d.ts","mtime":1529538654000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue/types/index.d.ts","mtime":1511401354000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue/types/vue.d.ts","mtime":1520953242000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue/types/options.d.ts","mtime":1520953242000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue/types/vnode.d.ts","mtime":1513785776000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue/types/plugin.d.ts","mtime":1503017292000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/index.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/foundation/application.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/reflect-metadata/index.d.ts","mtime":1482359835000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/foundation/ApplicationInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/inversify.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/constants/metadata_keys.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/container/container.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/interfaces/interfaces.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/constants/literal_types.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/container/container_module.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/injectable.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/tagged.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/named.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/inject.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/optional.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/unmanaged.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/multi_inject.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/target_name.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/post_construct.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/planning/metadata_reader.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/utils/guid.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/annotation/decorator_utils.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/syntax/constraint_helpers.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/utils/serialization.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/node_modules/inversify/dts/utils/binding_utils.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/routing/RouterInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/routing/Route.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/state/StateServiceInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/config/ConfigInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vuex/types/index.d.ts","mtime":1509548811000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vuex/types/vue.d.ts","mtime":1507748897000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vuex/types/helpers.d.ts","mtime":1507748897000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/support/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/support/ServiceProviderInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/notifications/models/NotificationModel.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/http/HttpServiceInterface.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify-inject-decorators/dts/index.d.ts","mtime":1515369328000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/inversify.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/constants/metadata_keys.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/container/container.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/interfaces/interfaces.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/constants/literal_types.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/container/container_module.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/injectable.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/tagged.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/named.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/inject.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/optional.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/unmanaged.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/multi_inject.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/target_name.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/post_construct.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/planning/metadata_reader.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/utils/guid.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/annotation/decorator_utils.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/syntax/constraint_helpers.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/utils/serialization.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/inversify/dts/utils/binding_utils.d.ts","mtime":499162500000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/http/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/state/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/config/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/routing/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/forms/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/validation/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/notifications/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/autoRegisterMixins/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/autoRegisterFilters/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/autoRegisterComponents/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/framework/lib/plugins/autoRegisterDirectives/ServiceProvider.d.ts","mtime":1529584425000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue-router/types/index.d.ts","mtime":1507911278000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue-router/types/vue.d.ts","mtime":1507911278000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/vue-router/types/router.d.ts","mtime":1507911278000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/@types/webpack-env/index.d.ts","mtime":1523565110000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/reflect-metadata/index.d.ts","mtime":1482359835000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2016.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.core.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.collection.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.generator.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.promise.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.iterable.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.symbol.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.proxy.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.reflect.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es5.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2016.array.include.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.object.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.string.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.intl.d.ts","mtime":1527783093000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","mtime":1526502736000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/typescript/lib/lib.dom.d.ts","mtime":1526502735000},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/luke/Code/opensource/varie/varie/node_modules/ts-loader/index.js","mtime":1528433923000}],"contextDependencies":[],"result":["var Loading = /** @class */ (function () {\n    function Loading() {\n        this.timeoutSet = false;\n        this.spinnerTimeout = null;\n        this.requestsCounter = 0;\n    }\n    Loading.prototype.request = function (config) {\n        var _this = this;\n        if (this.timeoutSet === false) {\n            this.spinnerTimeout = setTimeout(function () {\n                _this._turnOnSpinner();\n            }, 1500);\n            this.timeoutSet = true;\n        }\n        this.requestsCounter++;\n        return config;\n    };\n    Loading.prototype.response = function (response) {\n        if (--this.requestsCounter === 0) {\n            this._turnOffSpinner();\n        }\n        return response;\n    };\n    Loading.prototype.responseError = function (error) {\n        if (--this.requestsCounter === 0) {\n            this._turnOffSpinner();\n        }\n        return Promise.reject(error);\n    };\n    Loading.prototype._turnOnSpinner = function () {\n        var spinnerElement = this._getSpinnerElement();\n        if (!spinnerElement) {\n            var spinner = document.createElement(\"div\");\n            spinner.id = \"app-spinner\";\n            spinner.classList.add(\"sk-container\");\n            var cube = document.createElement(\"div\");\n            cube.classList.add(\"sk-folding-cube\");\n            for (var i = 1; i <= 4; i++) {\n                var cubePart = document.createElement(\"div\");\n                cubePart.classList.add(\"sk-cube\");\n                cubePart.classList.add(\"sk-cube\" + i);\n                cube.appendChild(cubePart);\n            }\n            spinner.appendChild(cube);\n            document.body.appendChild(spinner);\n        }\n    };\n    Loading.prototype._getSpinnerElement = function () {\n        return document.getElementById(\"spinner\");\n    };\n    Loading.prototype._turnOffSpinner = function () {\n        clearTimeout(this.spinnerTimeout);\n        this.spinnerTimeout = null;\n        var spinnerElement = this._getSpinnerElement();\n        if (spinnerElement) {\n            spinnerElement.remove();\n        }\n    };\n    return Loading;\n}());\nexport default Loading;\n",{"version":3,"file":"/Users/luke/Code/opensource/varie/varie/app/middleware/LoadingScreen.ts","sourceRoot":"","sources":["/Users/luke/Code/opensource/varie/varie/app/middleware/LoadingScreen.ts"],"names":[],"mappings":"AAAA;IAAA;QACU,eAAU,GAAG,KAAK,CAAC;QACnB,mBAAc,GAAG,IAAI,CAAC;QACtB,oBAAe,GAAG,CAAC,CAAC;IA+D9B,CAAC;IA7DQ,yBAAO,GAAd,UAAe,MAAc;QAA7B,iBAWC;QAVC,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;YAC7B,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC;gBAC/B,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,0BAAQ,GAAf,UAAgB,QAAgB;QAC9B,IAAI,EAAE,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,OAAO,QAAQ,CAAC;IAClB,CAAC;IAEM,+BAAa,GAApB,UAAqB,KAAK;QACxB,IAAI,EAAE,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QACD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAEO,gCAAc,GAAtB;QACE,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAE/C,IAAI,CAAC,cAAc,EAAE;YACnB,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC5C,OAAO,CAAC,EAAE,GAAG,aAAa,CAAC;YAC3B,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAEtC,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC3B,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC7C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBAClC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,YAAU,CAAG,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;aAC5B;YACD,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAE1B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SACpC;IACH,CAAC;IAEO,oCAAkB,GAA1B;QACE,OAAO,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC;IACO,iCAAe,GAAvB;QACE,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,cAAc,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC/C,IAAI,cAAc,EAAE;YAClB,cAAc,CAAC,MAAM,EAAE,CAAC;SACzB;IACH,CAAC;IACH,cAAC;AAAD,CAAC,AAlED,IAkEC","sourcesContent":["export default class Loading {\r\n  private timeoutSet = false;\r\n  private spinnerTimeout = null;\r\n  private requestsCounter = 0;\r\n\r\n  public request(config: object) {\r\n    if (this.timeoutSet === false) {\r\n      this.spinnerTimeout = setTimeout(() => {\r\n        this._turnOnSpinner();\r\n      }, 1500);\r\n      this.timeoutSet = true;\r\n    }\r\n\r\n    this.requestsCounter++;\r\n\r\n    return config;\r\n  }\r\n\r\n  public response(response: object) {\r\n    if (--this.requestsCounter === 0) {\r\n      this._turnOffSpinner();\r\n    }\r\n\r\n    return response;\r\n  }\r\n\r\n  public responseError(error) {\r\n    if (--this.requestsCounter === 0) {\r\n      this._turnOffSpinner();\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n\r\n  private _turnOnSpinner() {\r\n    let spinnerElement = this._getSpinnerElement();\r\n\r\n    if (!spinnerElement) {\r\n      let spinner = document.createElement(\"div\");\r\n      spinner.id = \"app-spinner\";\r\n      spinner.classList.add(\"sk-container\");\r\n\r\n      let cube = document.createElement(\"div\");\r\n      cube.classList.add(\"sk-folding-cube\");\r\n      for (let i = 1; i <= 4; i++) {\r\n        let cubePart = document.createElement(\"div\");\r\n        cubePart.classList.add(`sk-cube`);\r\n        cubePart.classList.add(`sk-cube${i}`);\r\n        cube.appendChild(cubePart);\r\n      }\r\n      spinner.appendChild(cube);\r\n\r\n      document.body.appendChild(spinner);\r\n    }\r\n  }\r\n\r\n  private _getSpinnerElement() {\r\n    return document.getElementById(\"spinner\");\r\n  }\r\n  private _turnOffSpinner() {\r\n    clearTimeout(this.spinnerTimeout);\r\n    this.spinnerTimeout = null;\r\n    let spinnerElement = this._getSpinnerElement();\r\n    if (spinnerElement) {\r\n      spinnerElement.remove();\r\n    }\r\n  }\r\n}\r\n"]}]}